{% set pageTitle = title + ' - ' + site.title %}

{% set currentUrl = env.siteUrl + page.url %}

{% if not description %}
  {% set description = site.description %}
{% endif %}

<title>{{ pageTitle }}</title>
<link rel="canonical" href="{{ canonical or currentUrl }}"/>

<meta charset="utf-8"/>

{# <meta name="generator" content="{{ eleventy.generator }}"> #}

<link rel="preload" as="script" href="/script.js?v={{ git.shortSha }}" fetchpriority="high"/>

<link rel="preload" as="style" href="/style.css?v={{ git.shortSha }}" fetchpriority="high"/>
<link media="print" rel="stylesheet" href="/style.css?v={{ git.shortSha }}" onload="this.media='all';this.onload=null;"/>

<link rel="manifest" href="/manifest.webmanifest"/>
<link rel="alternate" title="Blog Posts" type=application/atom+xml href="/feed.xml">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">

<meta name="color-scheme" content="light dark"/>
<meta name="theme-color" media="(prefers-color-scheme: light)" content="{{ site.theme.light }}"/>
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="{{ site.theme.dark }}"/>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2, user-scalable=yes, viewport-fit=cover"/>

<meta name="application-name" content="{{ site.title }}"/>
<meta property="og:site_name" content="{{ site.title }}"/>
<meta property="og:title" content="{{ pageTitle }}"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="{{ currentUrl }}"/>

{% set socialImagePath = socialImage or sharing_image or thumbnail or hero or site.defaultSocialImage %}

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/{{ socialImagePath }}"/>
<meta property="og:image" content="/{{ socialImagePath }}"/>

{% if socialImageAlt %}
  <meta property="og:image:alt" content="{{ socialImageAlt }}"/>
  <meta name="twitter:image:alt" content="{{ socialImageAlt }}"/>
{% endif %}

<meta name="description" content="{{ description }}"/>
<meta name="twitter:description" content="{{ description }}"/>
<meta property="og:description" content="{{ description }}"/>

{% if contact.twitter %}
  <meta name="twitter:site" content="@{{ contact.twitter }}"/>
  <meta name="twitter:creator" content="@{{ contact.twitter }}"/>
{% endif %}

<meta name="authors" content="{{ author.name or site.author.name }}"/>

{% if keywords %}
  <meta name="tags" content="{{ keywords | sort }}"/>
{% endif %}

<link rel="icon" type="image/png" sizes="32x32" href="/img/meta/icon-32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="/img/meta/icon-16.png"/>

<!-- Add to home screen for Chrome on Android. Fallback for manifest.json -->
<meta name="mobile-web-app-capable" content="yes"/>

<!-- Add to home screen for Safari on iOS -->
<link rel="apple-touch-icon" href="/img/meta/icon-180.png"/>
<link rel="apple-touch-startup-image" href="/img/meta/icon-192.png"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<meta name="apple-mobile-web-app-title" content="{{ site.title }}"/>

<!-- Tile icon for Windows 8 (144x144 + tile color) -->
<meta name="msapplication-TileImage" content="/img/meta/icon-512.png"/>
<meta name="msapplication-TileColor" content="{{ site.theme.light }}"/>
<meta name="msapplication-tap-highlight" content="no"/>
